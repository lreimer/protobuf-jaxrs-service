plugins {
    id 'war'
    id 'io.franzbecker.gradle-lombok' version '1.14'
    id 'com.google.protobuf' version '0.8.7'
}

repositories { jcenter() }

lombok {
    version = '1.18.2'
    sha256 = ""
}

dependencies {
    providedCompile 'javax:javaee-api:8.0'
    compile 'com.google.protobuf:protobuf-java:3.6.1'

    testCompile 'org.glassfish.jersey.core:jersey-client:2.26'
    testCompile 'org.glassfish.jersey.inject:jersey-hk2:2.26'
}

protobuf {
    // Configure the protoc executable
    protoc {
        // Download from repositories
        artifact = 'com.google.protobuf:protoc:3.6.1'
    }
}

task(searchClient, dependsOn: 'testClasses', type: JavaExec) {
    main = 'cloud.nativ.javaee.SearchClient'
    classpath = sourceSets.test.runtimeClasspath
}

task(addressBookClient, dependsOn: 'testClasses', type: JavaExec) {
    main = 'cloud.nativ.javaee.AddressBookClient'
    classpath = sourceSets.test.runtimeClasspath
}